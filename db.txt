CREATE DATABASE news_db CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

CREATE TABLE news (
    id INT AUTO_INCREMENT PRIMARY KEY,              
    company VARCHAR(255),                          
    title VARCHAR(500),                          
    url VARCHAR(500) UNIQUE,                       
    description TEXT,
    content TEXT,                            
    published_at DATETIME,                         
    summary_ko TEXT,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    sentiment VARCHAR(10)
);

CREATE TABLE subscriptions (
    id INT AUTO_INCREMENT PRIMARY KEY,
    user_id VARCHAR(255) NOT NULL,
    company VARCHAR(255) NOT NULL,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    UNIQUE KEY ux_user_company (user_id, company)
);